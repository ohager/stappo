function Stappo(){function e(a){for(var c in a)if(a.hasOwnProperty(c)){var b=a[c];"object"==typeof b&&e(b)}return Object.freeze(a)}var f=0,b={},d;this.listen=function(a,c){b[++f]={f:a,c:c};return f};this.unlisten=function(a){delete b[a]};this.update=function(a){d=e(Object.assign({},d,a));for(var c in b)a=b[c],a.f.call(a.c,d)};this.get=function(){return d}};
