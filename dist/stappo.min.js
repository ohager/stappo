function Stappo(){function e(a){for(var b in a)"object"==typeof a[b]&&e(a[b]);return Object.freeze(a)}var f=0,c={},d;this.listen=function(a,b){c[++f]={f:a,c:b};return f};this.unlisten=function(a){delete c[a]};this.update=function(a){d=e(Object.assign({},d,a()));for(var b in c)a=c[b],a.f.call(a.c,d)};this.get=function(){return d}};
