function Stappo(){function e(a){for(var b in a)"object"==typeof a[b]&&e(a[b]);return Object.freeze(a)}var f=0,d={},c;this.listen=function(a,b){d[++f]={f:a,c:b};return f};this.unlisten=function(a){delete d[a]};this.update=function(a){c=e(Object.assign({},c,a(c)));for(var b in d)a=d[b],a.f.call(a.c,c)};this.get=function(){return c}};
